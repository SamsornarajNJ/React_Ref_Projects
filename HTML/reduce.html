<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reduce</title>
  </head>
  <body>
    <h1>.reduce()</h1>
    <script>
      //Syntax --> array.reduce(callback(accumulator, currentValue, currentIndex, array), initialValue);
      //sum of two
      const numbers = [1, 2, 3, 4, 5];
      const sum = numbers.reduce((acc, currentValue) => {
        return acc + currentValue; //(i)--> 0+1, 1+2, 3+3, 6+4, 10+5 = 15
      }, 0);
      console.log(sum);

      //find max value in array
      const larVal = numbers.reduce((acc, curValue) => {
        return acc > curValue ? acc : curValue;
      }, numbers[0]);
      console.log(larVal);

      //Counting Occurrences of Values
      const words = ["apple", "banana", "apple", "orange", "banana", "apple"];
      const occurences = words.reduce((acc, curValue) => {
        acc[curValue] = (acc[curValue] || 0) + 1; //starts with {}, and checks the acc[curValue] in empty objects.acc is empty array
        return acc;
      }, {});
      console.log(occurences);

      //Flatten array using reduce
      const arrays = [
        [1, 2],
        [3, 4],
        [5, 6],
      ];
      const result = arrays.reduce((acc, cur) => {
        return acc.concat(cur);
      }, []);

      //Grouping by Property (e.g., Grouping Users by Age)
      const users = [
        { name: "Alice", age: 25 },
        { name: "Bob", age: 30 },
        { name: "Charlie", age: 25 },
        { name: "David", age: 30 },
      ];
      const grpbyage = users.reduce((acc, cur) => {
        if(!acc[cur.age]) { 
            acc[cur.age] = []; //first render acc[25] = []
        }
          acc[cur.age].push(cur);
          return acc; //first render {25: [name: "Alice, age:25"]}
      },{})




      //general basic for acc[curr] object
      const acc = {};
      acc[2] = 5;

      console.log(acc);      // { "2": 5 }
      console.log(acc[2]);   // 5
      console.log(acc["2"]); // 5 (same as above)
    </script>
  </body>
</html>
